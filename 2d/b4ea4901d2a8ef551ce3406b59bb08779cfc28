Fixed oldVal being updated prior to caret position calculation
